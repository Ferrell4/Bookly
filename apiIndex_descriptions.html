<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookly</title>
</head>

<body>
    <input id="inputYear">
    <button onclick="getYear()">Get Book by Year</button>
    <div id="outputYear"></div>
    <!-- <input id="inputTwo">
    <button onclick="getBooksTwo()">Similar Books</button>
    <div id="outputTwo"></div> -->


    <script>
        /*function getBooksTwo(){
            document.getElementById('outputTwo').innerHTML= "";
            fetch("http://openlibrary.org/search.json?q=" + document.getElementById("inputTwo").value)
            .then(a=> a.json())//converts the response which is currently a string into an object we can then read 
            .then(response =>{
                for(var i = 0; i<10;i++){
                    document.getElementById("outputTwo").innerHTML +="<h2>" + response.docs[i].title + "</h2>"+response.docs[i].author_name[0]+" <br> <img src='http://covers.openlibrary.org/b/isbn/" + response.docs[i].isbn[0]+"-M.jpg'><br>";
                }
            } );
        }*/
        /*function getBooksTwo() {
            document.getElementById('outputTwo').innerHTML = "";
            fetch("https://ia800204.us.archive.org/fulltext/inside.php?item_id=designevaluation25clin&doc=designevaluation25clin&path=/27/items/designevaluation25clin&q=" + document.getElementById("inputTwo").value)
                .then(a => a.json())//converts the response which is currently a string into an object we can then read 
                .then(response => {
                    for (var i = 0; i < 10; i++) {
                        document.getElementById("outputTwo").innerHTML += "<h2>" + response.matches[i].text + "</h2>";
                    }
                });
        }


        //response.items.[i].imageLinks.thumbnail  
        var openLibraryApi = "http://openlibrary.org/search.json?q="
        var googleBooksApi = "https://books.googleapis.com/books/v1/volumes?q="
        var googleSearchApi = "https://books.googleapis.com/books/v1/volumes?q=" + document.getElementById("input").value + "&key=AIzaSyB0jD4ojzXkBjv5QQueyFNrhDdBgI0Azqc"
        var testApi = "https://books.googleapis.com/books/v1/volumes?q=love&key=AIzaSyB0jD4ojzXkBjv5QQueyFNrhDdBgI0Azqc"
        var nytApi = " https://api.nytimes.com/svc/books/v3/lists/full-overview.json?published_date=2010-01-01&api-key=VpUnc9iC1dtZB9ka4zzUrJjNQ4Klo0N1"
        console.log(nytApi)*/
        
      
        
        
        
        
        
        
        function getYear() {
            document.getElementById('outputYear').innerHTML = "";
            fetch("https://api.nytimes.com/svc/books/v3/lists/full-overview.json?published_date=" + document.getElementById("inputYear").value + "-01-01&api-key=VpUnc9iC1dtZB9ka4zzUrJjNQ4Klo0N1")
                .then(a => a.json())//converts the response which is currently a string into an object we can then read 
                .then(response => {
                    for (var i = 0; i < 5; i++) {
                      document.getElementById("outputYear").innerHTML +="<h2>" + response.results.lists[0].books[i].title + "</h2>" + "<p>" + response.results.lists[0].books[i].author + "</p>" + "<img src='https://storage.googleapis.com/du-prd/books/images/" + response.results.lists[0].books[i].primary_isbn13 + ".jpg'>" + "<p>" + response.results.lists[0].books[i].description + "</p>" ;
                    }
                    // console.log(response.results.lists[0].books[i].primary_isbn13 )
                });
        }
        // function getBooks() {
        //     document.getElementById('output').innerHTML = "";
        //     fetch("https://books.googleapis.com/books/v1/volumes?q=" + document.getElementById("input").value + "&key=AIzaSyB0jD4ojzXkBjv5QQueyFNrhDdBgI0Azqc")
        //         .then(a => a.json())//converts the response which is currently a string into an object we can then read 
        //         .then(response => {
        //             // for(var i = 0; i < response.items.length;i++){
        //             //     document.getElementById("output").innerHTML +="<h2>" + response.items[i].volumeInfo.title + "</h2>"+response.items[i].volumeInfo.authors+" <br> <img src='http://books.google.com/books/content?id=" +response.items[i].id+ "&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api'><br>";
        //             // }
        //             for (var i = 0; i < 4; i++) {
        //                 console.log(response.items[i].saleInfo)
        //                 document.getElementById("output").innerHTML +=
                            
        //                     response.items[i].volumeInfo.authors + " <br> " +
        //                     '<a href="'+response.items[i].saleInfo.buyLink +'" target=blank>'+
        //                     " <img src='http://books.google.com/books/content?id=" + response.items[i].id + "&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api' >"+ "</a>"+" <br>" + response.items[i].volumeInfo.description;
        //             }
        //         });
        // }


        // https://api.nytimes.com/svc/books/v3/reviews.json?/reviews.json?title=Becoming&api-key=VpUnc9iC1dtZB9ka4zzUrJjNQ4Klo0N1


    </script>

</body>

</html>